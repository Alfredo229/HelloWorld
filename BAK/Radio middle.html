<html>
<head>
<title>FM scan</title>
<script>

frequencyList = new Array(885,893,903,913,919,925,935,943,951,959,977,985,995,1007,1029,1057,1073);
favoriteList = new Array(1073,925,985,951,885,1057,935,1007,995,977,959,893,943,903,913,919,1029);

function init(){

 result = new Array(99,99,99);
 resultIndexA = new Array(0,0,0);
 resultIndexB = new Array(0,0,0);
 resultIndexC = new Array(0,0,0);
 testString = '';


 myBrains = 0; 
 currentRatio = 0;
 mySeek = 0;


 pointA = Number(document.getElementById("mainAxis").value)-1;
 theInput1 = Number(document.getElementById("ratio1").value);
 theInput2 = Number(document.getElementById("ratio2").value);



 theRatio1 = 1 / theInput1;
 theRatio2 = 1 / theInput2;

for(goodGame = 0; goodGame < favoriteList.length; goodGame++){
 pointA = goodGame;

 for(i=0; i<frequencyList.length; i++){
   if(i != pointA){

   offsetA = Math.abs((favoriteList[pointA] - frequencyList[i]));
   targetOffset = offsetA * theRatio1;

  for(x = 0; x < frequencyList.length ;x++){
   if(x != i){
    offsetB = Math.abs(favoriteList[pointA] - frequencyList[x]);
    offsetB *= theRatio2;
   calculatedOffset = Math.abs(targetOffset - offsetB);

   if(favoriteList[pointA] < frequencyList[i] && favoriteList[pointA] > frequencyList[x]){
    validate();
} 
   if(favoriteList[pointA] > frequencyList[i] && favoriteList[pointA] < frequencyList[x])
    validate();
}}}}}

for(goodGame = 0; goodGame < favoriteList.length; goodGame++){
 pointA = goodGame;

 for(i=0; i<frequencyList.length; i++){
   if(i != pointA){

   offsetA = Math.abs((favoriteList[pointA] - frequencyList[i]));
   targetOffset = offsetA * theRatio2;

  for(x = 0; x < frequencyList.length ;x++){
   if(x != i){
    offsetB = Math.abs(favoriteList[pointA] - frequencyList[x]);
    offsetB *= theRatio1;
   calculatedOffset = Math.abs(targetOffset - offsetB);

   if(favoriteList[pointA] < frequencyList[i] && favoriteList[pointA] > frequencyList[x]){
    validate();
} 
   if(favoriteList[pointA] > frequencyList[i] && favoriteList[pointA] < frequencyList[x])
    validate();
}}}}

}

function validate(){
 if(result[0] >= calculatedOffset){
  for(g=2; g > 0; g--){
   result[g] = result[g-1]
   resultIndexA[g] = resultIndexA[g-1];
   resultIndexB[g] = resultIndexB[g-1];
   resultIndexC[g] = resultIndexC[g-1];
  }
  result[0] = calculatedOffset;
  resultIndexA[0] = x;
  resultIndexB[0] = i;
  resultIndexC[0] = pointA;
}}

 resultString = '';
 frequencyA = '';
 frequencyB = '';
 frequencyC = '';
 for(g=0; g<3; g++){
  resultString += result[g] + ' ';
  frequencyA += frequencyList[resultIndexA[g]] + ' ';
  frequencyB += frequencyList[resultIndexB[g]] + ' ';
  frequencyC += favoriteList[resultIndexC[g]] + ' ';
 }
 document.getElementById("mainOutput1").innerHTML = result[0];
 document.getElementById("mainOutput2").innerHTML = result[1];
 document.getElementById("mainOutput3").innerHTML = result[2];
 document.getElementById("mainOutput4").innerHTML = frequencyA;
 document.getElementById("mainOutput5").innerHTML = frequencyB;
 document.getElementById("mainOutput6").innerHTML = frequencyC;
}

</script>
<body>
<h1>Total of segments must match a segment</h1>
<div style="margin:auto">
<p>Select main axis</p>
<form>
<select id="mainAxis">
 <option value = "1">885</option>
 <option value = "2">893</option>
 <option value = "3">903</option>
 <option value = "4">913</option>
 <option value = "5">919</option>
 <option value = "6">925</option>
 <option value = "7">935</option>
 <option value = "8">943</option>
 <option value = "9">951</option>
 <option value = "10">959</option>
 <option value = "11">977</option>
 <option value = "12">985</option>
 <option value = "13">995</option>
 <option value = "14">1007</option>
 <option value = "15">1029</option>
 <option value = "16">1057</option>
 <option value = "17">1073</option>
</select>
<br>
<input type="button" value="Calculate" onClick="init()"></input>
<p>Input ratio</p>
<input type="text" id="ratio1"></input>
<input type="text" id="ratio2"></input>
</form>
<table><tr>
<td>Quality 1</td>
<td><p id="mainOutput1"></p></td>
</tr><tr>
<td>Quality 2</td>
<td><p id="mainOutput2"></p></td>
</tr><tr>
<td>Quality 3</td>
<td><p id="mainOutput3"></p></td>
</tr><tr>
<td>Offset 1</td>
<td><p id="mainOutput4"></p></td>
</tr><tr>
<td>Offset 2</td>
<td><p id="mainOutput5"></p></td>
</tr><tr>
<td>Axis</td>
<td><p id="mainOutput6"></p></td>
</tr></table>
</div>
</body>
</html>